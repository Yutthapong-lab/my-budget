<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>My Budget - Web Single</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

  <style>
    :root {
      --primary: #6366f1;
      --primary-hover: #4f46e5;
      --text-main: #1e293b;
      --text-sub: #64748b;
      --glass-bg: rgba(255, 255, 255, 0.9);
      --glass-border: 1px solid rgba(255, 255, 255, 0.6);
      --shadow-xl: 0 20px 50px -12px rgba(0, 0, 0, 0.25);
      --radius: 20px;
    }

    * { box-sizing: border-box; outline: none; }

    body {
      margin: 0; padding: 0;
      font-family: "Kanit", sans-serif;
      color: var(--text-main);
      min-height: 100vh;
      /* Animated Gradient Background */
      background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      display: flex; justify-content: center; padding: 40px 20px;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* --- Main Container (Glass) --- */
    .glass-container {
      width: 100%;
      max-width: 1100px; /* จำกัดความกว้างไม่ให้ยืดเกิน */
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border-radius: var(--radius);
      box-shadow: var(--shadow-xl);
      border: var(--glass-border);
      padding: 40px;
      display: flex; flex-direction: column; gap: 30px;
    }

    /* --- Header & Stats --- */
    .header-section {
      display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 20px;
    }
    
    .brand-area { display: flex; flex-direction: column; gap: 4px; }
    .brand-title { font-size: 28px; font-weight: 800; color: var(--primary); display: flex; align-items: center; gap: 10px; }
    .brand-subtitle { font-size: 14px; color: var(--text-sub); }

    .weather-badge {
      background: #fff; padding: 8px 16px; border-radius: 50px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05); color: #f59e0b; font-weight: 600; font-size: 14px;
      display: flex; align-items: center; gap: 6px;
    }

    /* Stats Grid */
    .stats-bar {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; width: 100%; max-width: 600px;
    }
    .stat-box {
      background: #fff; padding: 16px 20px; border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.02);
      display: flex; flex-direction: column; position: relative; overflow: hidden;
    }
    .stat-box::after { content:''; position:absolute; width:60px; height:60px; border-radius:50%; opacity:0.1; top:-10px; right:-10px; }
    .sb-inc::after { background: #16a34a; }
    .sb-exp::after { background: #dc2626; }
    .sb-net::after { background: #2563eb; }

    .stat-label { font-size: 13px; color: var(--text-sub); font-weight: 500; }
    .stat-val { font-size: 24px; font-weight: 700; margin-top: 4px; }
    .c-green { color: #16a34a; }
    .c-red { color: #dc2626; }
    .c-blue { color: #2563eb; }

    /* --- Form Section (Horizontal Grid) --- */
    .form-card {
      background: #fff; padding: 24px; border-radius: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.04);
    }
    .form-header {
      display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
      padding-bottom: 12px; border-bottom: 1px dashed #e2e8f0;
    }
    .fh-title { font-size: 18px; font-weight: 700; color: var(--text-main); display: flex; align-items: center; gap: 8px; }
    .setting-link { font-size: 13px; color: var(--primary); text-decoration: none; display: flex; align-items: center; gap: 4px; background: #eef2ff; padding: 4px 12px; border-radius: 8px; transition: 0.2s; }
    .setting-link:hover { background: #e0e7ff; }

    /* Grid Layout for Desktop Form */
    .form-layout {
      display: grid;
      grid-template-columns: 150px 1fr 1fr; /* วันที่ / รายการ / หมวดหมู่ */
      gap: 16px;
      align-items: start;
    }
    
    .input-wrapper { display: flex; flex-direction: column; gap: 6px; }
    .lbl { font-size: 13px; font-weight: 500; color: var(--text-sub); }
    
    .std-input {
      width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #e2e8f0;
      background: #f8fafc; font-size: 14px; font-family: inherit; transition: 0.2s;
    }
    .std-input:focus { background: #fff; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15); }
    .std-input:disabled { background: #f1f5f9; cursor: not-allowed; }

    /* Money Row */
    .money-row {
      grid-column: span 3; /* เต็มแถว */
      display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 16px;
      margin-top: 8px;
    }
    
    .inp-inc { background: #f0fdf4; color: #15803d; font-weight: 600; border-color: #bbf7d0; }
    .inp-exp { background: #fef2f2; color: #b91c1c; font-weight: 600; border-color: #fecaca; }

    /* Buttons */
    .form-actions {
      grid-column: span 3; display: flex; gap: 12px; justify-content: flex-end; margin-top: 16px; padding-top: 16px; border-top: 1px solid #f1f5f9;
    }
    .btn-main {
      padding: 12px 24px; background: var(--primary); color: white; border: none; border-radius: 12px;
      font-size: 15px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
      display: flex; align-items: center; gap: 8px; transition: 0.2s;
    }
    .btn-main:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4); }
    .btn-edit-mode { background: #f59e0b; box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3); }
    
    .btn-sec {
      padding: 12px 20px; background: #fff; border: 1px solid #e2e8f0; color: var(--text-sub);
      border-radius: 12px; font-weight: 500; cursor: pointer; transition: 0.2s;
    }
    .btn-sec:hover { background: #f8fafc; color: var(--text-main); }

    /* --- Table Section --- */
    .table-card {
      background: #fff; padding: 0; border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.04); overflow: hidden;
    }
    .table-toolbar {
      padding: 20px; display: flex; justify-content: space-between; align-items: center;
      background: #fcfcfc; border-bottom: 1px solid #f1f5f9;
    }
    .tbl-title { font-size: 18px; font-weight: 700; color: var(--text-main); }
    
    .filters { display: flex; gap: 10px; }
    .search-box { position: relative; }
    .search-box input { padding-left: 34px; width: 220px; border-radius: 50px; border: 1px solid #e2e8f0; height: 40px; }
    .search-icon { position: absolute; left: 10px; top: 10px; color: #94a3b8; font-size: 20px; }
    .month-input { border-radius: 10px; border: 1px solid #e2e8f0; padding: 0 10px; cursor: pointer; }

    /* Table */
    .table-responsive { overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; min-width: 800px; }
    thead { background: #fff; }
    th { text-align: left; padding: 16px 24px; color: var(--text-sub); font-size: 13px; font-weight: 600; border-bottom: 2px solid #f1f5f9; }
    td { padding: 16px 24px; border-bottom: 1px solid #f1f5f9; vertical-align: middle; font-size: 14px; color: var(--text-main); }
    tr:hover { background: #f8fafc; }

    .cat-pill { display: inline-block; padding: 4px 12px; border-radius: 50px; font-size: 12px; font-weight: 500; margin-right: 4px; margin-bottom: 4px; }
    .time-txt { font-size: 12px; color: #94a3b8; display: flex; align-items: center; gap: 4px; margin-top: 4px; }

    /* Action Buttons in Table */
    .act-btn {
      width: 32px; height: 32px; border-radius: 8px; border: none; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; margin-right: 6px;
    }
    .ab-edit { background: #fff7ed; color: #f97316; }
    .ab-edit:hover { background: #ffedd5; }
    .ab-del { background: #fef2f2; color: #ef4444; }
    .ab-del:hover { background: #fee2e2; }

    .footer { text-align: center; color: #fff; opacity: 0.8; font-size: 12px; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }

    /* Responsive for small screens */
    @media (max-width: 900px) {
      .header-section { flex-direction: column; align-items: stretch; }
      .stats-bar { max-width: 100%; }
      .form-layout { grid-template-columns: 1fr 1fr; }
      .money-row { grid-template-columns: 1fr 1fr; grid-column: span 2; }
      .form-actions { grid-column: span 2; }
    }
    @media (max-width: 600px) {
      body { padding: 10px; }
      .glass-container { padding: 20px; }
      .form-layout { grid-template-columns: 1fr; }
      .money-row { grid-template-columns: 1fr; grid-column: span 1; }
      .form-actions { grid-column: span 1; }
      .filters { flex-wrap: wrap; }
      .search-box input { width: 100%; }
    }
  </style>
</head>
<body>

  <div class="glass-container">
    
    <header class="header-section">
      <div class="brand-area">
        <div class="brand-title">
          <span class="material-icons-round" style="font-size:32px;">account_balance_wallet</span>
          My Budget
        </div>
        <div class="brand-subtitle">จัดการการเงินง่ายๆ บน Cloud</div>
      </div>

      <div class="stats-bar">
        <div class="stat-box sb-inc">
          <span class="stat-label">รายรับ</span>
          <span class="stat-val c-green" id="sum-income">0.00</span>
        </div>
        <div class="stat-box sb-exp">
          <span class="stat-label">รายจ่าย</span>
          <span class="stat-val c-red" id="sum-expense">0.00</span>
        </div>
        <div class="stat-box sb-net">
          <span class="stat-label">คงเหลือ</span>
          <span class="stat-val c-blue" id="sum-net">0.00</span>
        </div>
      </div>

      <div class="weather-badge">
        <span class="material-icons-round" style="color:#f59e0b;">wb_sunny</span> 32°C
      </div>
    </header>

    <section class="form-card">
      <div class="form-header">
        <div class="fh-title">
          <span class="material-icons-round" style="color:var(--primary);">edit_note</span> บันทึกรายการ
        </div>
        <a href="manage.html" class="setting-link">
          <span class="material-icons-round" style="font-size:16px;">settings</span> จัดการหมวดหมู่
        </a>
      </div>

      <form id="entry-form" class="form-layout">
        <div class="input-wrapper">
          <label class="lbl">วันที่</label>
          <input type="date" id="date" class="std-input" required>
        </div>
        
        <div class="input-wrapper">
          <label class="lbl">รายการ</label>
          <input type="text" id="item" class="std-input" placeholder="ระบุชื่อรายการ..." required>
        </div>

        <div class="input-wrapper">
          <label class="lbl">หมวดหมู่ <span style="font-size:10px; font-weight:400; color:#94a3b8;">(กด Ctrl เลือกหลายข้อ)</span></label>
          <select id="category" class="std-input" multiple required style="height:46px; padding:2px;">
            <option value="">กำลังโหลด...</option>
          </select>
        </div>

        <div class="money-row">
           <div class="input-wrapper">
             <label class="lbl" style="color:#16a34a">รายรับ (+)</label>
             <input type="number" id="income" class="std-input inp-inc" placeholder="0.00" min="0" step="0.01">
           </div>
           <div class="input-wrapper">
             <label class="lbl" style="color:#dc2626">รายจ่าย (-)</label>
             <input type="number" id="expense" class="std-input inp-exp" placeholder="0.00" min="0" step="0.01">
           </div>
           <div class="input-wrapper">
             <label class="lbl">วิธีชำระ</label>
             <select id="method" class="std-input" required>
               <option value="">เลือก...</option>
             </select>
           </div>
           <div class="input-wrapper">
             <label class="lbl">หมายเหตุ</label>
             <input type="text" id="note" class="std-input" placeholder="...">
           </div>
        </div>

        <div class="form-actions">
           <button type="reset" class="btn-sec">ล้างค่า</button>
           <button type="submit" class="btn-main">
             <span class="material-icons-round">save</span> บันทึกข้อมูล
           </button>
        </div>
      </form>
    </section>

    <section class="table-card">
      <div class="table-toolbar">
        <div class="tbl-title">ประวัติรายการ</div>
        <div class="filters">
           <div style="display:none;">
             <select id="filter-category"></select>
             <select id="filter-method"></select>
           </div>

           <div class="search-box">
             <span class="material-icons-round search-icon">search</span>
             <input type="text" id="filter-text" placeholder="ค้นหา...">
           </div>
           <input type="month" id="filter-month" class="month-input">
           <button id="clear-filter" class="act-btn ab-edit" style="width:40px; height:40px; background:#f1f5f9; color:#64748b;">
             <span class="material-icons-round">refresh</span>
           </button>
        </div>
      </div>

      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th width="15%">วันที่ / เวลา</th>
              <th width="20%">รายการ</th>
              <th width="20%">หมวดหมู่</th>
              <th width="10%" style="text-align:right">รายรับ</th>
              <th width="10%" style="text-align:right">รายจ่าย</th>
              <th width="10%">วิธี</th>
              <th width="15%" style="text-align:center">จัดการ</th>
            </tr>
          </thead>
          <tbody id="table-body">
            </tbody>
        </table>
      </div>

      <div style="padding:20px; display:flex; justify-content:space-between; align-items:center; border-top:1px solid #f1f5f9;">
         <div style="font-size:13px; color:#64748b;">
           แสดง <select id="page-size" style="border:1px solid #e2e8f0; border-radius:4px;"><option value="10">10</option><option value="20">20</option></select> รายการ
         </div>
         <div id="pagination-controls" style="display:flex; gap:8px;"></div>
      </div>
    </section>

    <div class="footer">Copyright © 2024 Yutthapong R. All rights reserved.</div>
  </div>

  <script type="module" src="main.js"></script>
</body>
</html>
